{% comment %}
  Newsletter Section - La Hime
  Email capture for newsletter signup
{% endcomment %}

<section class="py-24 px-4 bg-pink-100/50">
  <div class="max-w-3xl mx-auto text-center p-12 bg-white/60 backdrop-blur-lg rounded-3xl border border-white shadow-xl relative overflow-hidden">
    <div class="absolute -top-10 -left-10 w-40 h-40 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"></div>
    <div class="absolute -bottom-10 -right-10 w-40 h-40 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"></div>
    
    <div class="flex items-center justify-center gap-3 mb-4 relative z-10">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor" class="text-pink-500">
        <path d="M12 0L14.5 9.5L24 12L14.5 14.5L12 24L9.5 14.5L0 12L9.5 9.5L12 0Z"/>
      </svg>
      <h2 class="font-brand text-4xl text-gray-800">Join the Club</h2>
      <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor" class="text-pink-500">
        <path d="M12 0L14.5 9.5L24 12L14.5 14.5L12 24L9.5 14.5L0 12L9.5 9.5L12 0Z"/>
      </svg>
    </div>
    
    <p class="text-gray-600 mb-8 relative z-10">Get 10% off your first order plus early access to new drops.</p>
    
    <div id="newsletter-success" class="hidden bg-green-100 text-green-800 px-6 py-4 rounded-xl inline-flex items-center gap-2 relative z-10">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="20 6 9 17 4 12"></polyline>
      </svg>
      <span class="font-bold">You're on the list!</span>
    </div>
    
    <form id="newsletter-form" class="flex flex-col sm:flex-row gap-4 relative z-10" method="post" action="/contact#contact_form">
      <input type="hidden" name="form_type" value="customer" />
      <input type="hidden" name="utf8" value="âœ“" />
      <input type="hidden" name="contact[tags]" value="newsletter" />
      
      <input 
        type="email" 
        name="contact[email]"
        placeholder="your@email.com" 
        required
        class="flex-1 px-6 py-4 rounded-full bg-white border border-pink-200 focus:outline-none focus:border-pink-500 focus:ring-2 focus:ring-pink-200 transition-all placeholder:text-gray-400 text-gray-900"
      />
      <button type="submit" class="bg-black text-white px-8 py-4 rounded-full font-bold uppercase tracking-wider hover:bg-pink-600 transition-colors shadow-lg hover:shadow-pink-500/30">
        Subscribe
      </button>
    </form>
  </div>
</section>

<script>
  document.getElementById('newsletter-form').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const formData = new FormData(this);
    
    fetch('/contact#contact_form', {
      method: 'POST',
      body: formData
    }).then(response => {
      document.getElementById('newsletter-form').classList.add('hidden');
      document.getElementById('newsletter-success').classList.remove('hidden');
    }).catch(error => {
      console.error('Newsletter submission error:', error);
    });
  });
</script>
